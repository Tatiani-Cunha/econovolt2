export FLASK_ENV=development
flask debugtoolbar  para fazer debug do template

# colocar a linha para debug e ver em logging na debug toolbar

flask routes

Endpoint  ----
site.about - rule (about)
site.index - /
site.simulations  /simulations

# banco
command line -- flask create-db

from app.ext.db import db
from app.ext.db import db

from app.ext.site.models import User, Simulation

colocar um validador na classe de User (para validar com email)

user = User(username='rafael', email='rafaelufjf@gmail.com', password_hash="foo", admin=True)


adicionar um usuário 
flask add-user --username='simone', --email='simone@gmail.com', --password_hash="bar", --admin



User.query.all()

User.query.filter(User.id == 1).first()
select * from user where id =1 






from app import db, User
db.create_all()

u = Users()
u.name = 'ra'
u.email = '
u.pass
db.session.add(user)
db.session.commit()


#


#s = Simulation(item="geladeira", quantity=8, time_of_use=10, potency=100, state="MG", user_id=1)
#for key, values in s.detail().items():
#{'user_id': 1, 'item': 'tv', 'quantity': 8, 'time_of_use': 10, 'potency': 100, 'state': 'MG'}
#s.insert() -- db.session.commit(u)
#all = s.query.all()  [Item incluído para simulação >>> tv, Item incluído para simulação >>> geladeira]

# Aqui = s = Simulation(item='geladeira', quantity=10, time_of_use=1, potency=10, state='MG', author=u)
#simulations = u.simulations.all()
#s = Simulation.query.all()
#for s in s:
#...   print(s.id, s.author.username, s.item)


# AQUI
# ------------------------------------------------
#obter a simulação de um usuário
##simulacao_usuario_1 = u.simulations.all()
# simulacao_usuario_2 = u2.simulations.all()
#>>> simulacao_usuario_2
#[geladeira de id: 2 incluído na simulação para o usuário de id 2]

"""
totals = Simulation.query.all()
lista = []
for s in totals:
    lista.append(s.quantity)
sum(lista)

totals =Simulation.query.all()
for s in totls:
    print(s.timestamp)
"""



"""
tudo em all 
all = s.query.all()
for item in all:
    print(item.quantity)
    print(item.id)
"""